(()=>{"use strict";var t={178:function(t,i){var s=this&&this.__awaiter||function(t,i,s,n){return new(s||(s=Promise))((function(e,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function r(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(t){t(i)}))).then(o,r)}c((n=n.apply(t,i||[])).next())}))};Object.defineProperty(i,"__esModule",{value:!0}),i.FocusManagerSW=void 0;class n{constructor(){this.isRunning=!1,this.isFocus=!0,this.runningTime=0,this.isAuto=!1,this.isPush=!1,this.focusTime=0,this.relaxTime=0,this.startTime=0,this.setClient=(t,i)=>{this.sw=i,this.client=t},this.init=t=>{this.isAuto=t.isAuto,this.isPush=t.isPush,this.focusTime=t.focusTime,this.relaxTime=t.relaxTime,this.isFocus=!0,this.sendDisplay(this.isFocus,this.runningTime)},this.sendDisplay=(t,i)=>{var s;null===(s=this.client)||void 0===s||s.postMessage({command:"focusmanager",type:"display",payload:{isFocus:t,runningTime:i}})},this.startTimer=()=>s(this,void 0,void 0,(function*(){this.isRunning=!0,this.startTime=Date.now(),this.timer=setInterval((()=>{var t;this.runningTime=this.isFocus?this.focusTime-Math.floor((Date.now()-this.startTime)/100):this.relaxTime-Math.floor((Date.now()-this.startTime)/100),this.sendDisplay(this.isFocus,this.runningTime),this.runningTime>0||(clearInterval(this.timer),this.isRunning&&(this.isPush&&(null===(t=this.sw)||void 0===t||t.registration.showNotification(this.isFocus?"Focus Time is over!":"Relax Time is over!",{body:this.isFocus?"Relax Time is over! Ready to focus":""}).then().catch()),this.isFocus=!this.isFocus,this.isRunning=!1))}),100)})),this.endSend=()=>{this.isRunning=!1,clearInterval(this.timer)}}static get instance(){return n.shared||(n.shared=new n),n.shared}}i.FocusManagerSW=n},870:function(t,i,s){var n=this&&this.__awaiter||function(t,i,s,n){return new(s||(s=Promise))((function(e,a){function o(t){try{c(n.next(t))}catch(t){a(t)}}function r(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(t){t(i)}))).then(o,r)}c((n=n.apply(t,i||[])).next())}))};Object.defineProperty(i,"__esModule",{value:!0});const e=s(178),a=self;a.addEventListener("install",(t=>{})),a.addEventListener("activate",(t=>{})),a.addEventListener("message",(t=>n(void 0,void 0,void 0,(function*(){const i=t.data;if("focusmanager"===i.command)if("init"===i.type){const s=i.payload;e.FocusManagerSW.instance.setClient(t.source,a),e.FocusManagerSW.instance.init(s)}else"start"===i.type?e.FocusManagerSW.instance.startTimer().then():"end"===i.type&&e.FocusManagerSW.instance.endSend()})))),a.addEventListener("push",(t=>{const i=t.data.text(),s={body:t.data.text()};t.waitUntil(a.registration.showNotification(i,s))})),a.addEventListener("notificationclick",(t=>{t.notification.close()}))}},i={};(function s(n){var e=i[n];if(void 0!==e)return e.exports;var a=i[n]={exports:{}};return t[n].call(a.exports,a,a.exports,s),a.exports})(870)})();